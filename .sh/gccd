gccd() { ## git shallow clone, then cd, then deepen in the background
    clone() { gitfastclone "$@"; }
    clone "$@" || return
    local dir=`gitdirfromurl "$@"`
    if [ -d $dir ]; then
        echo "cd $dir"
        cd $dir
    else
        echo "Oops. I (gccd) guessed '$dir' from '$1', but that dir is absent."
        echo "(Either something happened with the clone or it was a bad guess)"
    fi
}

# vim:ft=sh
